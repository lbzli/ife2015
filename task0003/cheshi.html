<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>测试</title>
	<style>
		.mark {
			width: 300px;
			height: 300px;
			background-color: rgba(0,0,0,.3);
			border-top: 1px solid #fff;
		}
		.addlist {
			margin: 0 auto;
			margin-top: 100px;
			width: 200px;
			text-align: center;
		}
		.addlist button {
			margin: 5px 25px 0;
		}
	</style>
</head>
<body>
	<div class="mark">
		<div class="addlist">
			<form action="">
				<label for="">
					<input type="text" name="addlist" id="" placeholder="请输入分类的名称" />
				</label>
				<button type="submit">提交</button>
				<button type="button">取消</button>
			</form>
		</div>
	</div>
	<ul>2015-04-28<li data-id=1>to-do 1</li><li data-id=2>to-do 2</li></ul><ul>2015-04-29<li data-id=3>to-do 3</li><li data-id=4>to-do 4</li></ul><ul>2015-04-30<li data-id=5>to-do 5</li><li data-id=6>to-do 6</li></ul><ul>2015-05-04<li data-id=7>to-do 7</li></ul>

	<ul></ul>
	<li></li>

	<script>
		//回调函数的代码
		res=JSON.parse(res);
		console.log(res);
		var result="";
		var result2="";

		for (item in res) {
			result+="<ul>"+res[item]['time'];
			result2="";
			// console.log(res[item]['time']);
			// console.log(res[item][0][0]);
			// console.log(res[item][0][1]);
			for (key in res[item][0]) {
				result2+="<li data-id="+res[item][0][key]['id']+">"+res[item][0][key]['title']+"</li>";

				// console.log(res[item][0][key]['title']);
			}
			result+=result2;
			result+="</ul>";
		}

		document.getElementsByClassName("center-main")[0].innerHTML=result;

		//测试用的代码
		get('get','select_task.php',{haha:"i你好"},function(res){console.log(res)});

		

		//这个是添加时用的代码。
		var ilist=document.querySelectorAll('.list>ul>li>i');
		var arr=[];
		for(var i=0;i<ilist.length;i++){
			arr.push(ilist[i].innerText)
		}
		var method='get';
		var url='classlistadd.php';
		var parms={};
		parms.list=arr;
		get(method,url,parms);
	</script>
</body>
</html>